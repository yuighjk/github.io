{
    "version": "https://jsonfeed.org/version/1",
    "title": "FeiFei • All posts by \"typescript\" tag",
    "description": "FeiFei 的博客",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2022/10/12/vue3-mian-bao-xie-dao-hang-de-zhi-zuo/",
            "url": "http://example.com/2022/10/12/vue3-mian-bao-xie-dao-hang-de-zhi-zuo/",
            "title": "vue3面包屑导航的制作",
            "date_published": "2022-10-12T07:22:11.546Z",
            "content_html": "<p>如图所示：</p>\n<span id=\"more\"></span>\n<p><img src=\"https://img-blog.csdnimg.cn/677224bc09434b5abe12b5e5a83ddbb7.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"首先有固定的路由表\"><a href=\"#首先有固定的路由表\" class=\"headerlink\" title=\"首先有固定的路由表\"></a>首先有固定的路由表</h2><pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> routes<span class=\"token punctuation\">:</span>Array<span class=\"token operator\">&lt;</span>RouteRecordRaw<span class=\"token operator\">&gt;</span> <span class=\"token operator\">=</span><span class=\"token punctuation\">[</span>\n <span class=\"token punctuation\">{</span>\n            path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/dashboard'</span><span class=\"token punctuation\">,</span>\n            name<span class=\"token punctuation\">:</span><span class=\"token string\">'dashboard'</span><span class=\"token punctuation\">,</span>\n            meta<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                title<span class=\"token punctuation\">:</span><span class=\"token string\">'首页'</span><span class=\"token punctuation\">,</span>\n                icon<span class=\"token punctuation\">:</span> <span class=\"token string\">'Watch'</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n            path<span class=\"token punctuation\">:</span><span class=\"token string\">'/system'</span><span class=\"token punctuation\">,</span><span class=\"token comment\" spellcheck=\"true\">//系统管理就是一个空的路径，点击系统管理不会跳转任何页面</span>\n            name<span class=\"token punctuation\">:</span><span class=\"token string\">'system'</span><span class=\"token punctuation\">,</span>\n            meta<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                title<span class=\"token punctuation\">:</span> <span class=\"token string\">'系统管理'</span><span class=\"token punctuation\">,</span>\n                icon<span class=\"token punctuation\">:</span> <span class=\"token string\">'Menu'</span><span class=\"token punctuation\">,</span>\n                roles<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'sys:manage'</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            children<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                <span class=\"token punctuation\">{</span>\n                    path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/department'</span><span class=\"token punctuation\">,</span>\n                    name<span class=\"token punctuation\">:</span><span class=\"token string\">'department'</span><span class=\"token punctuation\">,</span>\n                    meta<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                        title<span class=\"token punctuation\">:</span><span class=\"token string\">'机构管理'</span><span class=\"token punctuation\">,</span>\n                        icon<span class=\"token punctuation\">:</span> <span class=\"token string\">'ZoomOut'</span><span class=\"token punctuation\">,</span>\n                        roles<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'sys:dept'</span><span class=\"token punctuation\">]</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">{</span>\n                    path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/userList'</span><span class=\"token punctuation\">,</span>\n                    name<span class=\"token punctuation\">:</span><span class=\"token string\">'userList'</span><span class=\"token punctuation\">,</span>\n                    meta<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                        title<span class=\"token punctuation\">:</span><span class=\"token string\">'用户管理'</span><span class=\"token punctuation\">,</span>\n                        icon<span class=\"token punctuation\">:</span> <span class=\"token string\">'ZoomOut'</span><span class=\"token punctuation\">,</span>\n                        roles<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'sys:user'</span><span class=\"token punctuation\">]</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">{</span>\n                    path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/roleList'</span><span class=\"token punctuation\">,</span>\n                    name<span class=\"token punctuation\">:</span><span class=\"token string\">'roleList'</span><span class=\"token punctuation\">,</span>\n                    meta<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                        title<span class=\"token punctuation\">:</span><span class=\"token string\">'角色管理'</span><span class=\"token punctuation\">,</span>\n                        icon<span class=\"token punctuation\">:</span> <span class=\"token string\">'ZoomOut'</span><span class=\"token punctuation\">,</span>\n                        roles<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'sys:role'</span><span class=\"token punctuation\">]</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n                <span class=\"token punctuation\">{</span>\n                    path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/menuList'</span><span class=\"token punctuation\">,</span>\n                    name<span class=\"token punctuation\">:</span><span class=\"token string\">'menuList'</span><span class=\"token punctuation\">,</span>\n                    meta<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                        title<span class=\"token punctuation\">:</span><span class=\"token string\">'权限管理'</span><span class=\"token punctuation\">,</span>\n                        icon<span class=\"token punctuation\">:</span> <span class=\"token string\">'ZoomOut'</span><span class=\"token punctuation\">,</span>\n                        roles<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'sys:menu'</span><span class=\"token punctuation\">]</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span>\n            path<span class=\"token punctuation\">:</span><span class=\"token string\">'/goods'</span><span class=\"token punctuation\">,</span>\n            name<span class=\"token punctuation\">:</span><span class=\"token string\">'goods'</span><span class=\"token punctuation\">,</span>\n            meta<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                title<span class=\"token punctuation\">:</span> <span class=\"token string\">'商品管理'</span><span class=\"token punctuation\">,</span>\n                icon<span class=\"token punctuation\">:</span> <span class=\"token string\">'ZoomOut'</span><span class=\"token punctuation\">,</span>\n                roles<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'sys:goods'</span><span class=\"token punctuation\">]</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            children<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n                <span class=\"token punctuation\">{</span>\n                    path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/goodCategory'</span><span class=\"token punctuation\">,</span>\n                    name<span class=\"token punctuation\">:</span><span class=\"token string\">'goodCategory'</span><span class=\"token punctuation\">,</span>\n                    meta<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                        title<span class=\"token punctuation\">:</span><span class=\"token string\">'商品列表'</span><span class=\"token punctuation\">,</span>\n                        icon<span class=\"token punctuation\">:</span> <span class=\"token string\">'ZoomOut'</span><span class=\"token punctuation\">,</span>\n                        roles<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'sys:goodCategory'</span><span class=\"token punctuation\">]</span>\n                    <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">]</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"route-matched\"><a href=\"#route-matched\" class=\"headerlink\" title=\"route.matched\"></a>route.matched</h2><p>面包屑的思路就是需要得到访问路径的信息，比如title，可以得到一个数组，到时候渲染到面包屑标签里</p>\n<p>需要用到route.matched，得到当前路径的匹配路径：比如点击商品管理，路径就是/goods/goodCategory。<br>matched，顾名思义就是匹配，/goods/goodCategory匹配到的路径就是/goods,/goodCategory：<br><img src=\"https://img-blog.csdnimg.cn/d0eba6511d3344a58a8790ff2021c35e.png\" alt=\"在这里插入图片描述\"><br>匹配到的路径都是在route里声明过的</p>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\" spellcheck=\"true\">//利用route.matched可以得到单个匹配的路径</span>\n<span class=\"token comment\" spellcheck=\"true\">//路径会发生改变，所以要用watch进行监听</span>\n\n<span class=\"token keyword\">const</span> getBreadCom <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> mached <span class=\"token operator\">=</span> route<span class=\"token punctuation\">.</span>matched<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> item<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>route<span class=\"token punctuation\">.</span>matched<span class=\"token punctuation\">,</span>mached<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\">// 第一个路径如果不是首页，需要在匹配路径前面拼接一个首页</span>\n    <span class=\"token keyword\">const</span> first <span class=\"token operator\">=</span> mached<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>first<span class=\"token punctuation\">.</span>path <span class=\"token operator\">!=</span> <span class=\"token string\">\"/dashboard\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        mached <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/dashboard'</span><span class=\"token punctuation\">,</span>meta<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">:</span> <span class=\"token string\">'首页'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> any<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>mached<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span>\n   \n    <span class=\"token function\">getBreadCom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\">// 监听路径的改变,如果发生变化了，执行方法</span>\n    <span class=\"token function\">watch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span>route<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token function\">getBreadCom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"类型转换\"><a href=\"#类型转换\" class=\"headerlink\" title=\"类型转换\"></a>类型转换</h2><p>因为 当被点击后，需要把 to （目标路由的链接，类型都是RouteLocationRaw），传到router.push()里面<br>所以需要对 mached 进行类型的转换</p>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"> <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ref<span class=\"token punctuation\">,</span>watch<span class=\"token punctuation\">,</span>Ref <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useRoute<span class=\"token punctuation\">,</span>RouteLocationMatched <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-router'</span>\n   <span class=\"token keyword\">const</span> route <span class=\"token operator\">=</span> <span class=\"token function\">useRoute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">//    定义导航数据,设置类型，否则赋值会报错</span>\n    <span class=\"token keyword\">const</span> tabs<span class=\"token punctuation\">:</span>Ref<span class=\"token operator\">&lt;</span>RouteLocationMatched<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token operator\">&gt;</span> <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n    \n<span class=\"token keyword\">const</span> getBreadCom <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> mached <span class=\"token operator\">=</span> route<span class=\"token punctuation\">.</span>matched<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> item<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">)</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>route<span class=\"token punctuation\">.</span>matched<span class=\"token punctuation\">,</span>mached<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\">// 第一个路径如果不是首页，需要在匹配路径前面拼接一个首页</span>\n    <span class=\"token keyword\">const</span> first <span class=\"token operator\">=</span> mached<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>first<span class=\"token punctuation\">.</span>path <span class=\"token operator\">!=</span> <span class=\"token string\">\"/dashboard\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        mached <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> <span class=\"token string\">'/dashboard'</span><span class=\"token punctuation\">,</span>meta<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">:</span> <span class=\"token string\">'首页'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> <span class=\"token keyword\">as</span> any<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span><span class=\"token function\">concat</span><span class=\"token punctuation\">(</span>mached<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\" spellcheck=\"true\">//设置面包屑的数据</span>\n    tabs<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> mached\n   <span class=\"token punctuation\">}</span>\n   \n    <span class=\"token function\">getBreadCom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\">// 监听路径的改变,如果发生变化了，执行方法</span>\n    <span class=\"token function\">watch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span>route<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token function\">getBreadCom</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>最后写在面包屑标签里</p>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>breadcrumb separator<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>breadcrumb<span class=\"token operator\">-</span>item v<span class=\"token operator\">-</span><span class=\"token keyword\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"item in tabs\"</span> <span class=\"token punctuation\">:</span>to<span class=\"token operator\">=</span><span class=\"token string\">\"item.path\"</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>item<span class=\"token punctuation\">.</span>meta<span class=\"token punctuation\">.</span>title<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>breadcrumb<span class=\"token operator\">-</span>item<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>breadcrumb<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">&gt;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n",
            "tags": [
                "vue3",
                "TypeScript"
            ]
        },
        {
            "id": "http://example.com/2022/10/12/element-plus-dong-tai-yin-ru-tu-biao/",
            "url": "http://example.com/2022/10/12/element-plus-dong-tai-yin-ru-tu-biao/",
            "title": "element plus动态引入图标",
            "date_published": "2022-10-12T07:20:31.911Z",
            "content_html": "<span id=\"more\"></span>\n<ol>\n<li>在main.ts引入</li>\n</ol>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Icons <span class=\"token keyword\">from</span> <span class=\"token string\">'@element-plus/icons-vue'</span>\n\n<span class=\"token keyword\">const</span> app <span class=\"token operator\">=</span> <span class=\"token function\">createApp</span><span class=\"token punctuation\">(</span>App<span class=\"token punctuation\">)</span>\napp<span class=\"token punctuation\">.</span><span class=\"token function\">use</span><span class=\"token punctuation\">(</span>ElementPlus<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">mount</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#app'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//方式一，用component组件</span>\nObject<span class=\"token punctuation\">.</span><span class=\"token function\">keys</span><span class=\"token punctuation\">(</span>Icons<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\" spellcheck=\"true\">// 注册全局组件（组件名，组件实现）</span>\n    <span class=\"token comment\" spellcheck=\"true\">// Icons[key as keyof typeof Icons]：key作为与Icons对象的键之一匹配的字符串,Icons对象取值与key匹配的值</span>\n    <span class=\"token comment\" spellcheck=\"true\">// key输出是各个icon名</span>\n    app<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span>Icons<span class=\"token punctuation\">[</span>key <span class=\"token keyword\">as</span> keyof <span class=\"token keyword\">typeof</span> Icons<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//方式二，用icon标签</span>\n<span class=\"token keyword\">const</span> Icon <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>props<span class=\"token punctuation\">:</span><span class=\"token punctuation\">{</span>icon<span class=\"token punctuation\">:</span>string<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n     <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span>icon<span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> props<span class=\"token punctuation\">;</span>\n     <span class=\"token comment\" spellcheck=\"true\">// 创建icon标签</span>\n     <span class=\"token keyword\">return</span> <span class=\"token function\">createVNode</span><span class=\"token punctuation\">(</span>Icons<span class=\"token punctuation\">[</span>icon <span class=\"token keyword\">as</span> keyof <span class=\"token keyword\">typeof</span> Icons<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n <span class=\"token punctuation\">}</span>\n app<span class=\"token punctuation\">.</span><span class=\"token function\">component</span><span class=\"token punctuation\">(</span><span class=\"token string\">'Icon'</span><span class=\"token punctuation\">,</span>Icon<span class=\"token punctuation\">)</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<ol start=\"3\">\n<li>在组件中使用</li>\n</ol>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">&gt;</span>\n\n     <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> 动态组件的使用方式 <span class=\"token operator\">--</span><span class=\"token operator\">&gt;</span>\n        \n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> 方式一 <span class=\"token operator\">--</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>component <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"icons\"</span> <span class=\"token punctuation\">:</span>is<span class=\"token operator\">=</span><span class=\"token string\">\"menu.meta.icon\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">!</span><span class=\"token operator\">--</span> 方式二 <span class=\"token operator\">--</span><span class=\"token operator\">&gt;</span>\n        <span class=\"token operator\">&lt;</span>Icon <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"icons\"</span> <span class=\"token punctuation\">:</span>icon<span class=\"token operator\">=</span><span class=\"token string\">\"menu.mata.icon\"</span><span class=\"token operator\">&gt;</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Icon<span class=\"token operator\">&gt;</span>\n        \n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">&gt;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n",
            "tags": [
                "vue3",
                "TypeScript",
                "element plus"
            ]
        },
        {
            "id": "http://example.com/2022/10/12/vue3-ts-tong-guo-lodash-shi-xian-fang-dou-jie-liu/",
            "url": "http://example.com/2022/10/12/vue3-ts-tong-guo-lodash-shi-xian-fang-dou-jie-liu/",
            "title": "vue3+ts通过lodash实现防抖节流",
            "date_published": "2022-10-12T07:18:01.011Z",
            "content_html": "<span id=\"more\"></span>\n<p>安装lodash</p>\n<pre class=\"line-numbers language-powershell\"><code class=\"language-powershell\">npm i <span class=\"token operator\">--</span>save<span class=\"token operator\">-</span>dev @types<span class=\"token operator\">/</span>lodash\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>在组件中引入lodash</p>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> _ <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash'</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><strong>防抖</strong></p>\n<p>_.debounce(func, [wait=0], [options=])     函数在延迟几毫秒之后才执行，也就是停止改变几秒后执行</p>\n<p>参数</p>\n<ol>\n<li>func (Function): 要防抖动的函数。</li>\n<li>[wait=0] (number): 需要延迟的毫秒数。</li>\n<li>[options=] (Object): 选项对象。</li>\n<li>[options.leading=false] (boolean): 指定在延迟开始前调用。</li>\n<li>[options.maxWait] (number): 设置 func 允许被延迟的最大值。</li>\n<li>[options.trailing=true] (boolean): 指定在延迟结束后调用。</li>\n</ol>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>script setup lang<span class=\"token operator\">=</span><span class=\"token string\">\"ts\"</span><span class=\"token operator\">&gt;</span>\n    <span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> _ <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash'</span>\n\n    <span class=\"token comment\" spellcheck=\"true\">//防抖的函数应该是click事件</span>\n    <span class=\"token keyword\">const</span> fangdou <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">debounce</span><span class=\"token punctuation\">(</span>click<span class=\"token punctuation\">,</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span>\n      leading<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>  <span class=\"token comment\" spellcheck=\"true\">// 延长开始后调用</span>\n      trailing<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span>  <span class=\"token comment\" spellcheck=\"true\">// 延长结束前调用</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    \n    <span class=\"token keyword\">function</span> <span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\" spellcheck=\"true\">//响应点击</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"123\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\" spellcheck=\"true\">//移除组件时，取消防抖</span>\n    <span class=\"token function\">onUnmounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{</span>\n      fangdou<span class=\"token punctuation\">.</span><span class=\"token function\">cancel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> \n\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span>template<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span>button @click<span class=\"token operator\">=</span><span class=\"token string\">\"fangdou\"</span><span class=\"token operator\">&gt;</span>fangdou<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">&gt;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>节流</strong></p>\n<p>_.throttle(func, [wait=0], [options=])  第一次会立即执行一次，然后等到过了毫秒数才会执行，以一定的频率后续处理</p>\n<p>参数</p>\n<ol>\n<li>func (Function): 要节流的函数。</li>\n<li>[wait=0] (number): 需要节流的毫秒。</li>\n<li>[options=] (Object): 选项对象。</li>\n<li>[options.leading=true] (boolean): 指定调用在节流开始前。</li>\n<li>[options.trailing=true] (boolean): 指定调用在节流结束后。</li>\n</ol>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>script setup lang<span class=\"token operator\">=</span><span class=\"token string\">\"ts\"</span><span class=\"token operator\">&gt;</span>\n   <span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> _ <span class=\"token keyword\">from</span> <span class=\"token string\">'lodash'</span>\n\n   <span class=\"token keyword\">const</span> throttle <span class=\"token operator\">=</span> _<span class=\"token punctuation\">.</span><span class=\"token function\">throttle</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{</span>\n     console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'I get fired every two seconds!'</span><span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span><span class=\"token number\">2000</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">{</span>\n     leading<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n     trailing<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n   <span class=\"token comment\" spellcheck=\"true\">//移除组件时，取消节流</span>\n   <span class=\"token function\">onUnmounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span><span class=\"token punctuation\">{</span>\n     throttle<span class=\"token punctuation\">.</span><span class=\"token function\">cancel</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> \n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n\n<span class=\"token operator\">&lt;</span>template<span class=\"token operator\">&gt;</span>\n   <span class=\"token operator\">&lt;</span>button @click<span class=\"token operator\">=</span><span class=\"token string\">\"throttle\"</span><span class=\"token operator\">&gt;</span>jieliu<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">&gt;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n",
            "tags": [
                "vue3",
                "TypeScript"
            ]
        },
        {
            "id": "http://example.com/2022/10/12/vue3-de-tabs-xuan-xiang-qia-de-zhi-zuo/",
            "url": "http://example.com/2022/10/12/vue3-de-tabs-xuan-xiang-qia-de-zhi-zuo/",
            "title": "vue3的tabs选项卡的制作",
            "date_published": "2022-10-12T06:32:11.147Z",
            "content_html": "<p>如图所示：</p>\n<span id=\"more\"></span>\n<p><img src=\"https://img-blog.csdnimg.cn/8c994977111740a1941e909b4cc7cde5.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"思路\"><a href=\"#思路\" class=\"headerlink\" title=\"思路\"></a>思路</h2><ol>\n<li>点击左侧菜单，右侧内容展示区显示对应的选项卡</li>\n<li>点击右侧选项卡，左侧菜单也相应的选中。点击tabs跳转到相应的路径，route.push，菜单中用computed监听path的变化</li>\n<li>解决刷新后，tabs数据丢失的问题</li>\n</ol>\n<p>因为route可以直接获取到当前路由的path等信息，不用在菜单中点击菜单的触发方法，直接获取当前的路由，然后菜单页面和tabs页面都用computed监听path的变化</p>\n<h2 id=\"tabs选项卡存储在store里面\"><a href=\"#tabs选项卡存储在store里面\" class=\"headerlink\" title=\"tabs选项卡存储在store里面\"></a>tabs选项卡存储在store里面</h2><p>因为菜单组件和tab标签页组建共享tabs数组,所以存储在store里面<br>首先创建tabs标签的接口：</p>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\" spellcheck=\"true\">// 选项卡的数据类型, 规定数据类型就只能有title 和 path</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">ITabe</span><span class=\"token punctuation\">{</span>\n  title<span class=\"token punctuation\">:</span>string<span class=\"token punctuation\">,</span>\n  path<span class=\"token punctuation\">:</span>string\n<span class=\"token punctuation\">}</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>在store里面</p>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">State</span> <span class=\"token punctuation\">{</span>\n  count<span class=\"token punctuation\">:</span> number<span class=\"token punctuation\">,</span>\n  collapse<span class=\"token punctuation\">:</span> boolean<span class=\"token punctuation\">,</span>\n  tabsList<span class=\"token punctuation\">:</span> Array<span class=\"token operator\">&lt;</span>ITabe<span class=\"token operator\">&gt;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> key<span class=\"token punctuation\">:</span> InjectionKey<span class=\"token operator\">&lt;</span>Store<span class=\"token operator\">&lt;</span>State<span class=\"token operator\">&gt;</span><span class=\"token operator\">&gt;</span> <span class=\"token operator\">=</span> <span class=\"token function\">Symbol</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> createStore<span class=\"token operator\">&lt;</span>State<span class=\"token operator\">&gt;</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  state<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    tabsList<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  mutations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">addTabe</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">:</span> State<span class=\"token punctuation\">,</span> tab<span class=\"token punctuation\">:</span> ITabe<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\" spellcheck=\"true\">// 判断是否已经存在,如果不存在,才放入</span>\n      <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">.</span>tabsList<span class=\"token punctuation\">.</span><span class=\"token function\">some</span><span class=\"token punctuation\">(</span>item <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> item<span class=\"token punctuation\">.</span>path <span class=\"token operator\">===</span> tab<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n      state<span class=\"token punctuation\">.</span>tabsList<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  getters<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\" spellcheck=\"true\">// 获取Tabs</span>\n    <span class=\"token function\">getTabs</span><span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">:</span> State<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> state<span class=\"token punctuation\">.</span>tabsList\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"tabs页面\"><a href=\"#tabs页面\" class=\"headerlink\" title=\"tabs页面\"></a>tabs页面</h2><p> 获取tabs数据</p>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> tabsList <span class=\"token operator\">=</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> store<span class=\"token punctuation\">.</span>getters<span class=\"token punctuation\">[</span><span class=\"token string\">'getTabs'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>添加选项卡（每点击菜单，就添加一个）</p>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> addTab <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">,</span> meta <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> route\n  <span class=\"token keyword\">const</span> tab<span class=\"token punctuation\">:</span> ITabe <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    path<span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">,</span>\n    title<span class=\"token punctuation\">:</span> meta<span class=\"token punctuation\">.</span>title <span class=\"token keyword\">as</span> string\n  <span class=\"token punctuation\">}</span>\n  store<span class=\"token punctuation\">.</span><span class=\"token function\">commit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'addTabe'</span><span class=\"token punctuation\">,</span> tab<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>点击选项卡</p>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> clickBtn <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">:</span> any<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> props <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> tab\n  <span class=\"token comment\" spellcheck=\"true\">//跳转路由</span>\n  router<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">:</span> props<span class=\"token punctuation\">.</span>name <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>当前激活的选项卡（当前所在的路由）</p>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> activeTab <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2'</span><span class=\"token punctuation\">)</span> <span class=\"token comment\" spellcheck=\"true\">//是v-model的绑定</span>\n<span class=\"token keyword\">const</span> setActiveTab <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n  activeTab<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> route<span class=\"token punctuation\">.</span>path\n<span class=\"token punctuation\">}</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p>删除选项卡</p>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\" spellcheck=\"true\">//删除选项卡，跳转到临近页面，这个tabs标签删除</span>\n<span class=\"token keyword\">const</span> removeTab <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>targetName<span class=\"token punctuation\">:</span> string<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>tabsList<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span>\n  <span class=\"token keyword\">const</span> tabs <span class=\"token operator\">=</span> tabsList<span class=\"token punctuation\">.</span>value\n  <span class=\"token keyword\">let</span> activeName <span class=\"token operator\">=</span> activeTab<span class=\"token punctuation\">.</span>value\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>activeName <span class=\"token operator\">===</span> targetName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>   <span class=\"token comment\" spellcheck=\"true\">//如果当前的路由是要删除的页面</span>\n    tabs<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">:</span>ITabe<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">:</span>number<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">.</span>path <span class=\"token operator\">===</span> targetName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> nextTab <span class=\"token operator\">=</span> tabs<span class=\"token punctuation\">[</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> tabs<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\" spellcheck=\"true\">//如果在中间的tab，删除会选择在后面的一个；如果在最后，会选择在前面的一个tab</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nextTab<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          activeName <span class=\"token operator\">=</span> nextTab<span class=\"token punctuation\">.</span>path  <span class=\"token comment\" spellcheck=\"true\">//更换当前路由的地址</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\" spellcheck=\"true\">//重新设置当前激活的选项卡</span>\n  activeTab<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> activeName\n  <span class=\"token comment\" spellcheck=\"true\">//重新设置选项卡数据,将数组中去掉删除的元素</span>\n  store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>tabsList <span class=\"token operator\">=</span> tabs<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">:</span>ITabe<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> tab<span class=\"token punctuation\">.</span>path <span class=\"token operator\">!==</span> targetName<span class=\"token punctuation\">)</span>\n  <span class=\"token comment\" spellcheck=\"true\">//跳转路由</span>\n  router<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>path<span class=\"token punctuation\">:</span> activeName<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>解决刷新数据丢失的问题</p>\n<pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> beforeRefresh <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n  window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"beforeunload\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\" spellcheck=\"true\">//监听刷新</span>\n     <span class=\"token comment\" spellcheck=\"true\">// sessionStorage当浏览器关闭时，结束。localStorage，没有期限</span>\n     sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tabsView'</span><span class=\"token punctuation\">,</span>JSON<span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>tabsList<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\" spellcheck=\"true\">//页面加载时取数据</span>\n  <span class=\"token keyword\">let</span> tabSession <span class=\"token operator\">=</span> sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tabsView'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>tabSession<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> oldTabs <span class=\"token operator\">=</span> JSON<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>tabSession<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>oldTabs<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&gt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>tabsList <span class=\"token operator\">=</span> oldTabs\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"完整代码\"><a href=\"#完整代码\" class=\"headerlink\" title=\"完整代码\"></a>完整代码</h2><pre class=\"line-numbers language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>template<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>tabs\n    v<span class=\"token operator\">-</span>model<span class=\"token operator\">=</span><span class=\"token string\">\"activeTab\"</span>\n    @tab<span class=\"token operator\">-</span>click <span class=\"token operator\">=</span> <span class=\"token string\">\"clickBtn\"</span>\n    type<span class=\"token operator\">=</span><span class=\"token string\">\"card\"</span>\n    <span class=\"token keyword\">class</span><span class=\"token operator\">=</span><span class=\"token string\">\"demo-tabs\"</span>\n    closable    \n    @tab<span class=\"token operator\">-</span>remove<span class=\"token operator\">=</span><span class=\"token string\">\"removeTab\"</span>\n  <span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span>el<span class=\"token operator\">-</span>tab<span class=\"token operator\">-</span>pane\n      v<span class=\"token operator\">-</span><span class=\"token keyword\">for</span><span class=\"token operator\">=</span><span class=\"token string\">\"item in tabsList\"</span>\n      <span class=\"token punctuation\">:</span>key<span class=\"token operator\">=</span><span class=\"token string\">\"item.path\"</span>\n      <span class=\"token punctuation\">:</span>label<span class=\"token operator\">=</span><span class=\"token string\">\"item.title\"</span>\n      <span class=\"token punctuation\">:</span>name<span class=\"token operator\">=</span><span class=\"token string\">\"item.path\"</span>\n    <span class=\"token operator\">&gt;</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>tab<span class=\"token operator\">-</span>pane<span class=\"token operator\">&gt;</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>el<span class=\"token operator\">-</span>tabs<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>template<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span>script lang<span class=\"token operator\">=</span><span class=\"token string\">\"ts\"</span> setup<span class=\"token operator\">&gt;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> onMounted<span class=\"token punctuation\">,</span> ref<span class=\"token punctuation\">,</span>watch<span class=\"token punctuation\">,</span>computed <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useStore <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/store'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> useRoute<span class=\"token punctuation\">,</span> useRouter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'vue-router'</span><span class=\"token punctuation\">;</span> \n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> ITabe <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@/store/type'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token function\">useStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> route <span class=\"token operator\">=</span> <span class=\"token function\">useRoute</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">const</span> router <span class=\"token operator\">=</span> <span class=\"token function\">useRouter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">//获取tabs数据</span>\n<span class=\"token keyword\">const</span> tabsList <span class=\"token operator\">=</span> <span class=\"token function\">computed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> store<span class=\"token punctuation\">.</span>getters<span class=\"token punctuation\">[</span><span class=\"token string\">'getTabs'</span><span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>tabsList<span class=\"token punctuation\">,</span><span class=\"token string\">\"tabsList\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\" spellcheck=\"true\">// let tabIndex = 2</span>\n<span class=\"token keyword\">const</span> activeTab <span class=\"token operator\">=</span> <span class=\"token function\">ref</span><span class=\"token punctuation\">(</span><span class=\"token string\">'2'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//点击选项卡,跳转到相应的页面，菜单也恢复到相应的页面</span>\n<span class=\"token keyword\">const</span> clickBtn <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">:</span>any<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> props <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> tab\n    router<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>path<span class=\"token punctuation\">:</span> props<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//删除选项卡，跳转到临近页面，这个tabs标签删除</span>\n<span class=\"token keyword\">const</span> removeTab <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>targetName<span class=\"token punctuation\">:</span> string<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>tabsList<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span>\n  <span class=\"token keyword\">const</span> tabs <span class=\"token operator\">=</span> tabsList<span class=\"token punctuation\">.</span>value\n  <span class=\"token keyword\">let</span> activeName <span class=\"token operator\">=</span> activeTab<span class=\"token punctuation\">.</span>value\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>activeName <span class=\"token operator\">===</span> targetName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>   <span class=\"token comment\" spellcheck=\"true\">//如果当前的路由是要删除的页面</span>\n    tabs<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">:</span>ITabe<span class=\"token punctuation\">,</span> index<span class=\"token punctuation\">:</span>number<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">.</span>path <span class=\"token operator\">===</span> targetName<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> nextTab <span class=\"token operator\">=</span> tabs<span class=\"token punctuation\">[</span>index <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">||</span> tabs<span class=\"token punctuation\">[</span>index <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span>  <span class=\"token comment\" spellcheck=\"true\">//如果在中间的tab，删除会选择在后面的一个；如果在最后，会选择在前面的一个tab</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>nextTab<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n          activeName <span class=\"token operator\">=</span> nextTab<span class=\"token punctuation\">.</span>path  <span class=\"token comment\" spellcheck=\"true\">//更换当前路由的地址</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\" spellcheck=\"true\">//重新设置当前激活的选项卡</span>\n  activeTab<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> activeName\n  <span class=\"token comment\" spellcheck=\"true\">//重新设置选项卡数据,将数组中去掉删除的元素</span>\n  store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>tabsList <span class=\"token operator\">=</span> tabs<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>tab<span class=\"token punctuation\">:</span>ITabe<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> tab<span class=\"token punctuation\">.</span>path <span class=\"token operator\">!==</span> targetName<span class=\"token punctuation\">)</span>\n  <span class=\"token comment\" spellcheck=\"true\">//跳转路由</span>\n  router<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>path<span class=\"token punctuation\">:</span> activeName<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\" spellcheck=\"true\">//添加路由的选项卡</span>\n<span class=\"token keyword\">const</span> addTabs <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> path<span class=\"token punctuation\">,</span>meta <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> route\n    <span class=\"token keyword\">const</span> tabs<span class=\"token punctuation\">:</span>ITabe <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        title<span class=\"token punctuation\">:</span> meta<span class=\"token punctuation\">.</span>title <span class=\"token keyword\">as</span> string<span class=\"token punctuation\">,</span>\n        path<span class=\"token punctuation\">:</span> path\n    <span class=\"token punctuation\">}</span>\n    store<span class=\"token punctuation\">.</span><span class=\"token function\">commit</span><span class=\"token punctuation\">(</span><span class=\"token string\">'addTab'</span><span class=\"token punctuation\">,</span>tabs<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\" spellcheck=\"true\">//激活选项卡</span>\n<span class=\"token keyword\">const</span> setActiveTab <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    activeTab<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> route<span class=\"token punctuation\">.</span>path  <span class=\"token comment\" spellcheck=\"true\">//因为el-tab-pane的name是item.path，所以activeTab也是path</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">watch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> route<span class=\"token punctuation\">.</span>path<span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\" spellcheck=\"true\">//激活选项卡</span>\n    <span class=\"token function\">setActiveTab</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\" spellcheck=\"true\">//监听路由的变化</span>\n    <span class=\"token function\">addTabs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> \n\n<span class=\"token comment\" spellcheck=\"true\">//解决刷新数据页面丢失的问题</span>\n<span class=\"token keyword\">const</span> beforeRefresh <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n  window<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"beforeunload\"</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\" spellcheck=\"true\">//监听刷新</span>\n     <span class=\"token comment\" spellcheck=\"true\">// sessionStorage当浏览器关闭时，结束。localStorage，没有期限</span>\n     sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tabsView'</span><span class=\"token punctuation\">,</span>JSON<span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>tabsList<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\" spellcheck=\"true\">//页面加载时取数据</span>\n  <span class=\"token keyword\">let</span> tabSession <span class=\"token operator\">=</span> sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">'tabsView'</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>tabSession<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">let</span> oldTabs <span class=\"token operator\">=</span> JSON<span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>tabSession<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>oldTabs<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&gt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      store<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>tabsList <span class=\"token operator\">=</span> oldTabs\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token comment\" spellcheck=\"true\">//调用函数需要在模板加载之后调用</span>\n<span class=\"token function\">onMounted</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span><span class=\"token operator\">&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">beforeRefresh</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">setActiveTab</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">addTabs</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>script<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span>style<span class=\"token operator\">&gt;</span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>style<span class=\"token operator\">&gt;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n",
            "tags": [
                "vue3",
                "TypeScript"
            ]
        }
    ]
}